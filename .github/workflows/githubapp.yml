name: "githubapp"
on:
  push:
    tags:
      - '**'
  workflow_dispatch:
 

env:
   ACCESS_TOKEN: ${{ secrets.ACCESS_TOKEN}}
   APP_ID: ${{secrets.APP_ID}}
   PRIVATE_KEY: ${{secrets.PRIVATE_KEY}}
   INSTALLAION_ID: ${{secrets.INSTALLATION_ID}}
   


jobs:
  create-issue:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout code
      uses: actions/checkout@v3
    - name: Set up Node.js
      uses: actions/setup-node@v3
      with:
        node-version: 16

   
    - run : npm install jsonwebtoken
    - run : npm install axios
    - run : |
       curl -H "Authorization: token  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" https://api.github.com/repos/SiyaaJhawar/demo/issues
          curl -i -X GET \
            -H "Authorization: Bearer YOUR_JWT" \
            -H "Accept: application/vnd.github+json" \
             https://api.github.com/app/installations

  #  - run : node  node.js
    - run : node readfromapp.js
    - run : node appinstallation.js
    - run : node issue.js
   
